!function(e){function t(e,t){if(this.createTextRange){var a=this.createTextRange();a.collapse(!0),a.moveStart("character",e),a.moveEnd("character",t-e),a.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(e,t))}function a(e){var t=this.value.length;if(e="start"==e.toLowerCase()?"Start":"End",document.selection){var a,i,l,n=document.selection.createRange();return(a=n.duplicate()).expand("textedit"),a.setEndPoint("EndToEnd",n),l=(i=a.text.length-n.text.length)+n.text.length,"Start"==e?i:l}return void 0!==this["selection"+e]&&(t=this["selection"+e]),t}var i={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};e.fn.number=function(l,n,s,r){r=void 0===r?",":r,s=void 0===s?".":s,n=void 0===n?0:n;var h="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),o=RegExp("[^"+h+"0-9]","g"),c=RegExp(h,"g");return!0===l?this.is("input:text")?this.on({"keydown.format":function(l){var h=e(this),u=h.data("numFormat"),v=l.keyCode?l.keyCode:l.which,$="",d=a.apply(this,["start"]),_=a.apply(this,["end"]),p="",g=!1;if(i.codes.hasOwnProperty(v)&&(v=i.codes[v]),!l.shiftKey&&v>=65&&v<=90?v+=32:!l.shiftKey&&v>=69&&v<=105?v-=48:l.shiftKey&&i.shifts.hasOwnProperty(v)&&($=i.shifts[v]),""==$&&($=String.fromCharCode(v)),8!==v&&$!=s&&!$.match(/[0-9]/)){var f=l.keyCode?l.keyCode:l.which;if(46==f||8==f||9==f||27==f||13==f||(65==f||82==f)&&!0===(l.ctrlKey||l.metaKey)||f>=35&&f<=39)return;return l.preventDefault(),!1}if((0!=d||_!=this.value.length)&&0!=h.val()||l.metaKey||l.ctrlKey||l.altKey||1!==$.length||0==$?u.c=_-this.value.length:(d=_=1,this.value="",u.init=n>0?-1:0,u.c=n>0?-(n+1):0,t.apply(this,[0,0])),n>0&&$==s&&d==this.value.length-n-1)u.c++,u.init=Math.max(0,u.init),l.preventDefault(),g=this.value.length+u.c;else if($==s)u.init=Math.max(0,u.init),l.preventDefault();else if(n>0&&8==v&&d==this.value.length-n)l.preventDefault(),u.c--,g=this.value.length+u.c;else if(n>0&&8==v&&d>this.value.length-n){if(""===this.value)return;"0"!=this.value.slice(d-1,d)&&(p=this.value.slice(0,d-1)+"0"+this.value.slice(d),h.val(p.replace(o,"").replace(c,s))),l.preventDefault(),u.c--,g=this.value.length+u.c}else 8==v&&this.value.slice(d-1,d)==r?(l.preventDefault(),u.c--,g=this.value.length+u.c):n>0&&d==_&&this.value.length>n+1&&d>this.value.length-n-1&&isFinite(+$)&&!l.metaKey&&!l.ctrlKey&&!l.altKey&&1===$.length&&(p=_===this.value.length?this.value.slice(0,d-1):this.value.slice(0,d)+this.value.slice(d+1),this.value=p,g=d);!1!==g&&t.apply(this,[g,g]),h.data("numFormat",u)},"keyup.format":function(i){var l,s=e(this),r=s.data("numFormat"),h=i.keyCode?i.keyCode:i.which,o=a.apply(this,["start"]);""===this.value||(h<48||h>57)&&(h<96||h>105)&&8!==h||(s.val(s.val()),n>0&&(r.init<1?(o=this.value.length-n-(r.init<0?1:0),r.c=o-this.value.length,r.init=1,s.data("numFormat",r)):o>this.value.length-n&&8!=h&&(r.c++,s.data("numFormat",r))),l=this.value.length+r.c,t.apply(this,[l,l]))},"paste.format":function(t){var a=e(this),i=t.originalEvent,l=null;return window.clipboardData&&window.clipboardData.getData?l=window.clipboardData.getData("Text"):i.clipboardData&&i.clipboardData.getData&&(l=i.clipboardData.getData("text/plain")),a.val(l),t.preventDefault(),!1}}).each(function(){var t=e(this).data("numFormat",{c:-(n+1),decimals:n,thousands_sep:r,dec_point:s,regex_dec_num:o,regex_dec:c,init:!1});""!==this.value&&t.val(t.val())}):this.each(function(){var t=e(this),a=+t.text().replace(o,"").replace(c,".");t.number(isFinite(a)?+a:0,n,s,r)}):this.text(e.number.apply(window,arguments))};var l=null,n=null;e.valHooks.text?(l=e.valHooks.text.get,n=e.valHooks.text.set):e.valHooks.text={},e.valHooks.text.get=function(t){var a,i=e(t).data("numFormat");return i?""===t.value?"":""+(isFinite(a=+t.value.replace(i.regex_dec_num,"").replace(i.regex_dec,"."))?a:0):e.isFunction(l)?l(t):void 0},e.valHooks.text.set=function(t,a){var i=e(t).data("numFormat");return i?t.value=e.number(a,i.decimals,i.dec_point,i.thousands_sep):e.isFunction(n)?n(t,a):void 0},e.number=function(e,t,a,i){i=void 0===i?",":i,a=void 0===a?".":a,t=isFinite(+t)?Math.abs(t):0;var l,n,s,r="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),h=isFinite(+(e=(e+"").replace(RegExp(r,"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),"")))?+e:0,o="";return(o=(t?(l=h,""+Math.round(l*(s=Math.pow(10,n=t)))/s):""+Math.round(h)).split("."))[0].length>3&&(o[0]=o[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(o[1]||"").length<t&&(o[1]=o[1]||"",o[1]+=Array(t-o[1].length+1).join("0")),o.join(a)}}(jQuery);